<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Customer Success Audit by Omar Tobon / OTO Visual Flow</title>
    <meta name="description" content="Customer Success Audit by Omar Tobon / OTO Visual Flow" />
    <meta name="keywords" content="Customer Success, Customer Success Audit, Customer Success Medellin, Omar Tobon, Omar Tobon Medellin, OTO Visual Flow, Customer Success Auditoria Medellin, Customer Success Auditoria Colombia" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="/images/logo-escudo-oto.png" />

    <!-- Styling -->
    <link href="/css/style.css" rel="stylesheet">

    <!-- Begin Google Analytics -->
    <!-- Google tag (gtag.js) -->
    <script async id="google-tag"></script>
    <script>
        const debug = 0;
        window.dataLayer = window.dataLayer || [];
        function gtag(){
          dataLayer.push(arguments);
          if (debug) console.log('Main gtag() event tracked:', arguments);
        }
        function loadGoogleTag(tagId) {
          window.dataLayer = window.dataLayer || [];
          gtag('js', new Date());
          gtag('config', tagId);
          if (debug) console.log('loadGoogleTag() event tracked:', arguments);
        }
    </script>
    <script>
        const apiBaseUrl = "http://localhost:8080";
        fetch(`${apiBaseUrl}/php/config.php`)
            .then(response => response.json())
            .then(data => {
                const tagId = data.googleTagId;
                const script = document.getElementById('google-tag');
                script.src = `https://www.googletagmanager.com/gtag/js?id=${tagId}`;
                // Wait until the script is loaded
                script.onload = () => {
                    loadGoogleTag(tagId);
                };
            })
            .catch(error => {
                console.error('Error fetching Google Tag config:', error);
                const container = document.getElementById('google-tag');
                if (container) container.innerHTML = '<p class="g-recaptcha-error">Google Tag could not be loaded.</p>';
            });
    </script>
    <!-- End Google Analytics -->
    
    <!-- <script src="js/recaptcha.js"></script> -->
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
